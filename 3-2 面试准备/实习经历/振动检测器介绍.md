## 介绍

项目背景:之前的一个客户，有这个外包需求，公司评估了可以做，然后我比较主动，不像继续做测试了，去争取到了这个项目。



（在自我介绍中已经说过了这个，他应该不会再追问了吧）（此处简历有个错误，写的是ESP8266，到时候细问起来就说最开始使用MQTT进行一个传送，公司的web开发人员会进行一个对接，后来考虑到功耗的问题，在这里进行了一个优化，换了数据发送芯片，但是使用的AT指令进行一个数据的发送）（整个开发周期还是比较漫长的，开发了两个月，一共去公司实习了两次，寒假和暑假，第一次做测试，第二次做开发）

​	此处可以重点介绍低功耗以及程序架构。

​	在开发振动检测的产品时，使用时间片轮询的裸机程序框架，在其中，我设置了三个任务，看门狗任务，振动检测任务，数据发送任务。振动检测主要是用IIC读取LIS2DH加速度芯片中寄存器的值，一秒内三次检测，通过判断XYZ三轴的加速度是否有变化来确定是否产生振动（IIC作为亮点），数据发送则是使用（了中兴的一个数据芯片，不同于平常常用的物联网数据发送模块，它走的是中国电信的2G基站进行一个数据传送，这里则是使用的）（此处一笔带过，简历有错误！！）AT指令进行控制。（亮点：各种物联网通信协议）项目中的这种时间片轮询法和裸机相比起来引入了类似于实时操作系统中的多任务，不过它们之间的区别也还是蛮大的，并没有任务管理，切换，上下文保存等等，它们也只是在思想上类似。（此处留下亮点，裸机程序和时间片相比较，和实时操作系统有关内容，在基础知识中进行总结）。

## 遇到的困难

这个过程遇到了很多困难，后面回过头来看，小问题就不细说了，大问题归根结底都有一个源头。功耗与电池问题，最难的时候废寝忘食，连睡觉都在想项目的事，当时压力也比较大，是自己主动去争取这个项目来做的，不能砸在我手上。

因为之前和客户有过合作，之前给客户做的一个环境检测上报的系统，所以还是有很多参考资料。我们就延用了之前的一些设计，比如HC32最小系统板，电源通断控制电路。这里还用了之前的一个电池，er14505-2，也就是这个电池，是个坑。

