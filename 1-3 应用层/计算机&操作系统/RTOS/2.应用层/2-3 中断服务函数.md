##                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    编程注意事项

+ ISR中不允许调用延时函数和可能被挂起的系统服务函数。
+ 调用试试操作系统提供的”退出中断”服务函数，以便实现抢占系统调度功能。

## 与关联任务的通信手段选择

1. 触发ISR的事件不包含数据，不需要对事件进行信息采集，使用信号量与关联任务进行通信
2. 触发ISR的事件包含数据的低频事件：（采样数据质量要求不严格）将数据采集的工作放在关联任务中完成，使用信号量与关联任务进行通信，简化ISR。
3. 触发ISR的事件包含数据的中高频事件：（采样数据同时对质量要求很严格）数据采集工作再ISR中完成，由ISR使用消息邮箱与关联任务进行通信，关联任务从消息邮箱中得到消息的数据，完成后续工作。
4. 触发ISR的事件包含数据的非周期“高频”事件：最短时间间隔可能小于一个事件数据处理的耗时，消息邮箱可能会出现数据丢失，数据采集工作再ISR中完成，由ISR使用具有数据缓冲功能的消息队列与关联任务进行通信。

