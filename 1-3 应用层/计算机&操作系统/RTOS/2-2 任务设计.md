## 任务函数的结构

### 单次执行的任务

含义：此类任务只执行一次，执行结束后即自行删除。通常用于“启动任务”。**单次执行的任务采用“创建任务函数”来启动**。

用处：每当需要执行该任务时，就将该任务创建一次，由键盘操作启动你的任务通常采用这种结构。

注意：采用此种方式来启动一个任务，除了实时性差意外，还可能有一些后遗症：

+ 占用共享资源未释放
+ 积压信号量或者消息
+ 可能留下未删除干净的废弃变量

**适合采用“创建任务”的方式来启动的任务，通常时孤立任务，他们不和其他任务进行通信，只使用共享资源来获取信息和输出信息。**

### 周期性执行的任务

含义：通过合理设置OSTimeDly()和OSTimeDlyHMSM的参数值可以调整任务的执行周期。当任务执行周期远大于系统时钟节拍时，任务执行周期的相对误差就比较小。

用处：实际应用中很多任务具有周期性，如键盘扫描，动态显示刷新任务，模拟信号采样任务等。同时如果希望有很高的周期稳定性，可以采用独立定时器触发任务。

### 事件触发执行的任务

含义：此类任务创建后很快可以获得运行权，但是执行实体任务需要等待某种事件的发生，在相关事件发生之前，则被操作系统挂起，相关之间发生一次，就执行一次。

用处：例如用一个“发送”按钮启动**串口通信任务**，则将数据发送到上位机，在键盘任务中，按下”发送“按钮之后就发出信号量。

注意：当触发条件为事件间隔，则该任务具有周期性，这种任务函数结构适用于执行周期小于一个时钟节拍或者不是时钟节拍的整数倍的周期性任务。

有些触发任务得事件属于信号类（信号量），其作用仅仅是启动任务的运行。有些属于信息类（邮箱中的消息），可以启动 任务，也可为该任务提供原始数据和资料。

## 任务优先级安排

